<!DOCTYPE html>
<html>
<head>
<title>EXPLAIN.md</title>
<meta http-equiv="Content-type" content="text/html;charset=UTF-8">

<style>
/* https://github.com/microsoft/vscode/blob/master/extensions/markdown-language-features/media/markdown.css */
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

body {
	font-family: var(--vscode-markdown-font-family, -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "Ubuntu", "Droid Sans", sans-serif);
	font-size: var(--vscode-markdown-font-size, 14px);
	padding: 0 26px;
	line-height: var(--vscode-markdown-line-height, 22px);
	word-wrap: break-word;
}

#code-csp-warning {
	position: fixed;
	top: 0;
	right: 0;
	color: white;
	margin: 16px;
	text-align: center;
	font-size: 12px;
	font-family: sans-serif;
	background-color:#444444;
	cursor: pointer;
	padding: 6px;
	box-shadow: 1px 1px 1px rgba(0,0,0,.25);
}

#code-csp-warning:hover {
	text-decoration: none;
	background-color:#007acc;
	box-shadow: 2px 2px 2px rgba(0,0,0,.25);
}

body.scrollBeyondLastLine {
	margin-bottom: calc(100vh - 22px);
}

body.showEditorSelection .code-line {
	position: relative;
}

body.showEditorSelection .code-active-line:before,
body.showEditorSelection .code-line:hover:before {
	content: "";
	display: block;
	position: absolute;
	top: 0;
	left: -12px;
	height: 100%;
}

body.showEditorSelection li.code-active-line:before,
body.showEditorSelection li.code-line:hover:before {
	left: -30px;
}

.vscode-light.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(0, 0, 0, 0.15);
}

.vscode-light.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(0, 0, 0, 0.40);
}

.vscode-light.showEditorSelection .code-line .code-line:hover:before {
	border-left: none;
}

.vscode-dark.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(255, 255, 255, 0.4);
}

.vscode-dark.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(255, 255, 255, 0.60);
}

.vscode-dark.showEditorSelection .code-line .code-line:hover:before {
	border-left: none;
}

.vscode-high-contrast.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(255, 160, 0, 0.7);
}

.vscode-high-contrast.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(255, 160, 0, 1);
}

.vscode-high-contrast.showEditorSelection .code-line .code-line:hover:before {
	border-left: none;
}

img {
	max-width: 100%;
	max-height: 100%;
}

a {
	text-decoration: none;
}

a:hover {
	text-decoration: underline;
}

a:focus,
input:focus,
select:focus,
textarea:focus {
	outline: 1px solid -webkit-focus-ring-color;
	outline-offset: -1px;
}

hr {
	border: 0;
	height: 2px;
	border-bottom: 2px solid;
}

h1 {
	padding-bottom: 0.3em;
	line-height: 1.2;
	border-bottom-width: 1px;
	border-bottom-style: solid;
}

h1, h2, h3 {
	font-weight: normal;
}

table {
	border-collapse: collapse;
}

table > thead > tr > th {
	text-align: left;
	border-bottom: 1px solid;
}

table > thead > tr > th,
table > thead > tr > td,
table > tbody > tr > th,
table > tbody > tr > td {
	padding: 5px 10px;
}

table > tbody > tr + tr > td {
	border-top: 1px solid;
}

blockquote {
	margin: 0 7px 0 5px;
	padding: 0 16px 0 10px;
	border-left-width: 5px;
	border-left-style: solid;
}

code {
	font-family: Menlo, Monaco, Consolas, "Droid Sans Mono", "Courier New", monospace, "Droid Sans Fallback";
	font-size: 1em;
	line-height: 1.357em;
}

body.wordWrap pre {
	white-space: pre-wrap;
}

pre:not(.hljs),
pre.hljs code > div {
	padding: 16px;
	border-radius: 3px;
	overflow: auto;
}

pre code {
	color: var(--vscode-editor-foreground);
	tab-size: 4;
}

/** Theming */

.vscode-light pre {
	background-color: rgba(220, 220, 220, 0.4);
}

.vscode-dark pre {
	background-color: rgba(10, 10, 10, 0.4);
}

.vscode-high-contrast pre {
	background-color: rgb(0, 0, 0);
}

.vscode-high-contrast h1 {
	border-color: rgb(0, 0, 0);
}

.vscode-light table > thead > tr > th {
	border-color: rgba(0, 0, 0, 0.69);
}

.vscode-dark table > thead > tr > th {
	border-color: rgba(255, 255, 255, 0.69);
}

.vscode-light h1,
.vscode-light hr,
.vscode-light table > tbody > tr + tr > td {
	border-color: rgba(0, 0, 0, 0.18);
}

.vscode-dark h1,
.vscode-dark hr,
.vscode-dark table > tbody > tr + tr > td {
	border-color: rgba(255, 255, 255, 0.18);
}

</style>

<style>
/* Tomorrow Theme */
/* http://jmblog.github.com/color-themes-for-google-code-highlightjs */
/* Original theme - https://github.com/chriskempson/tomorrow-theme */

/* Tomorrow Comment */
.hljs-comment,
.hljs-quote {
	color: #8e908c;
}

/* Tomorrow Red */
.hljs-variable,
.hljs-template-variable,
.hljs-tag,
.hljs-name,
.hljs-selector-id,
.hljs-selector-class,
.hljs-regexp,
.hljs-deletion {
	color: #c82829;
}

/* Tomorrow Orange */
.hljs-number,
.hljs-built_in,
.hljs-builtin-name,
.hljs-literal,
.hljs-type,
.hljs-params,
.hljs-meta,
.hljs-link {
	color: #f5871f;
}

/* Tomorrow Yellow */
.hljs-attribute {
	color: #eab700;
}

/* Tomorrow Green */
.hljs-string,
.hljs-symbol,
.hljs-bullet,
.hljs-addition {
	color: #718c00;
}

/* Tomorrow Blue */
.hljs-title,
.hljs-section {
	color: #4271ae;
}

/* Tomorrow Purple */
.hljs-keyword,
.hljs-selector-tag {
	color: #8959a8;
}

.hljs {
	display: block;
	overflow-x: auto;
	color: #4d4d4c;
	padding: 0.5em;
}

.hljs-emphasis {
	font-style: italic;
}

.hljs-strong {
	font-weight: bold;
}
</style>

<style>
/*
 * Markdown PDF CSS
 */

 body {
	font-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "Ubuntu", "Droid Sans", sans-serif, "Meiryo";
	padding: 0 12px;
}

pre {
	background-color: #f8f8f8;
	border: 1px solid #cccccc;
	border-radius: 3px;
	overflow-x: auto;
	white-space: pre-wrap;
	overflow-wrap: break-word;
}

pre:not(.hljs) {
	padding: 23px;
	line-height: 19px;
}

blockquote {
	background: rgba(127, 127, 127, 0.1);
	border-color: rgba(0, 122, 204, 0.5);
}

.emoji {
	height: 1.4em;
}

code {
	font-size: 14px;
	line-height: 19px;
}

/* for inline code */
:not(pre):not(.hljs) > code {
	color: #C9AE75; /* Change the old color so it seems less like an error */
	font-size: inherit;
}

/* Page Break : use <div class="page"/> to insert page break
-------------------------------------------------------- */
.page {
	page-break-after: always;
}

</style>

<script src="https://unpkg.com/mermaid/dist/mermaid.min.js"></script>
</head>
<body>
  <script>
    mermaid.initialize({
      startOnLoad: true,
      theme: document.body.classList.contains('vscode-dark') || document.body.classList.contains('vscode-high-contrast')
          ? 'dark'
          : 'default'
    });
  </script>
<h1 id="practica-8--buses-de-comunicaci%C3%B3n-iv"><strong>PRACTICA 8 : Buses de comunicación IV</strong></h1>
<h2 id="ejercicio-pr%C3%A1ctico-1-bucle-comunicaci%C3%B3n-uart"><strong>EJERCICIO PRÁCTICO 1: BUCLE COMUNICACIÓN UART</strong></h2>
<p>Para esta práctica hemos tenido que desarrollar un código sencillo con el cual poder enviar datos por el bus UART0 que hay en el esp32 y recibirlos por el UART2 conectado a las salidas <em>GPIO 16,17</em>.
Una vez recibidos, enviarlos otra vez al UART0.<br>
Vamos a proceder a explicar el void setup() que en esta práctica es muy sencillo.</p>
<h3 id="void-setup"><strong>void setup()</strong></h3>
<pre class="hljs"><code><div><span class="hljs-meta">#include &lt;Arduino.h&gt;</span>

<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">setup</span>(<span class="hljs-params"></span>)</span> {
  Serial.begin(<span class="hljs-number">9600</span>);
  Serial2.begin(<span class="hljs-number">9600</span>);
  Serial.write(<span class="hljs-string">"Inicializando..."</span>);
}
</div></code></pre>
<p>Creamos dos objetos de la clase Serial y les llamamos Serial y Serial2. Los configuramos con un baut rate de 9600.</p>
<p>En el void loop() es donde voy a proceder a hacer la función principal de esta práctica.</p>
<h3 id="void-loop"><strong>void loop()</strong></h3>
<pre class="hljs"><code><div><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">loop</span>(<span class="hljs-params"></span>)</span> {
<span class="hljs-keyword">if</span>(Serial.available()){
  Serial2.write(Serial.read());
  delay(<span class="hljs-number">10</span>);
  <span class="hljs-keyword">if</span>(Serial2.available()){
    Serial.write(Serial2.read());
  }
}
}
</div></code></pre>
<p>Primero de todo con la función available(), miramos si hay algo disponible para leer desde el serial port del UART0.
En este momento nosotros podemos escribir cualquier cosa y se guardará en el buffer.
Eso que está en el buffer lo escribirá el UART2 con la función <em>write()</em>. Como tenemos los puertos de recepción y transmisión del UART2 cortocircuitados, eso que se transmita con <em>write()</em> se recibirá al mismo UART2 con <em>available()</em>, eso es precisamente lo que hacemos en este momento.
Hasta este punto tenemos guardado en el buffer lo que hemos enviado y nuevamente con la función <em>read()</em> leemos lo que hay en el buffer del UART2 y lo escribimos por el puerto serie del UART0.</p>
<h2 id="conclusiones"><strong>CONCLUSIONES</strong></h2>
<p>No he tenido muchos problemas a la hora de realizar esta práctica ya que una vez pensado el funcionamiento del código era bastante sencillo llegar a escribirlo.
He estado un rato pensando que funciones debería usar y como usarlas pero al poco tiempo he sabido como aplicarlas y no he tenido mayores problemas.
Algunos compañeros los han tenido a causa del ruido y cuando desconectaban el cortocircuito hecho entre la transmisión y la recepción del UART2 seguían recibiendo datos cuando no debería pasar. Lo dicho, yo no me he encontrado con problemas de ese estilo por lo que ha sido bastante sencillo llegar al resultado final.</p>
<p>Me gustaría haber podido hacer los otros ejercicios ya que me resultaron interesantes, pero me di cuenta tarde de los componentes que hacían falta y no me llegaron a tiempo, de todas formas me lo reservo para proyectos futuros el aprender como funcionan sus librerías y los componentes en si.</p>
<h2 id="salidas-y-entradas-por-consola">Salidas y entradas por consola</h2>
<p>En esta práctica, la salida por consola es la misma que la de la entrada por todo lo explicado anteriormente:</p>
<h3 id="salidas">Salidas</h3>
<p>Inicializando...�Esto es una prueba de la practica 8.</p>
<h3 id="entradas">Entradas</h3>
<p>Esto es una prueba de la practica 8.</p>

</body>
</html>
